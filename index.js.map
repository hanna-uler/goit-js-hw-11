{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n// let picsArray = [];\n\nexport default function renderGallery (picsArray) {\n    const galleryEl = document.querySelector(\".gallery\");\n    galleryEl.innerHTML = \"\";\n    const galleryMarkup = picsArray\n        .map(image => `<li class=\"gallery-item\"><a class=\"gallery-link\" href=\"${image.largeImageURL}\"><img class=\"gallery-image\" src=\"${image.webformatURL}\" alt=\"${image.tags}\"/></a><ul class=\"img-info-list\">\n            <li class=\"img-info-item\">\n              <h3 class=\"img-info-item-header\">Likes</h3>\n              <p class=\"img-info-item-value\">${image.likes}</p>\n            </li>\n            <li class=\"img-info-item\">\n              <h3 class=\"img-info-item-header\">Views</h3>\n              <p class=\"img-info-item-value\">${image.views}</p>\n            </li>\n            <li class=\"img-info-item\">\n              <h3 class=\"img-info-item-header\">Comments</h3>\n              <p class=\"img-info-item-value\">${image.comments}</p>\n            </li>\n            <li class=\"img-info-item\">\n              <h3 class=\"img-info-item-header\">Downloads</h3>\n              <p class=\"img-info-item-value\">${image.downloads}</p>\n            </li>\n          </ul></li>`)\n        .join(\"\");\n    \n galleryEl.insertAdjacentHTML(\"beforeend\", galleryMarkup);   \nconst slGalleryOptions = {\n  captionDelay: 250,\n  captionsData: \"alt\",\n};\n    let slGallery = new SimpleLightbox('.gallery a', slGalleryOptions);\n    slGallery.refresh();\n};","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport axios from 'axios';\nimport renderGallery from \"./render-functions\";\n\n\nexport default function getPics(queryWords) {\n    axios.defaults.baseURL = \"https://pixabay.com\";\n    axios.get(\"/api/\", {\n        params: {\n            key: \"31908643-2178b12526c513c1beb381d6b\",\n            q: queryWords,\n            image_type: \"photo\",\n            orientation: \"horizontal\",\n            safesearch: true,\n        }\n    })\n        .then(response => {\n            if (response.data.hits.length === 0) {\n                return iziToast.error({\n                    theme: \"dark\",\n                    message: \"Sorry, there are no images matching your search query. Please try again!\",\n                    backgroundColor: \"#EF4040\",\n                    closeOnClick: true,\n                    position: \"topRight\",\n                    timeout: 3000,\n                })\n            } else {\n                return renderGallery(response.data.hits);\n            }\n            })\n        .catch(error => console.log(error));\n};\n\n//     Pixabay resource:\n//     Example\n// Retrieving photos of \"yellow flowers\". The search term q needs to be URL encoded:\n\n// https://pixabay.com/api/?key=31908643-2178b12526c513c1beb381d6b&q=yellow+flowers&image_type=photo\n// Response for this request:\n\n// {\n// \"total\": 4692,\n// \"totalHits\": 500,\n// \"hits\": [\n//     {\n//         \"id\": 195893,\n//         \"pageURL\": \"https://pixabay.com/en/blossom-bloom-flower-195893/\",\n//         \"type\": \"photo\",\n//         \"tags\": \"blossom, bloom, flower\",\n//         \"previewURL\": \"https://cdn.pixabay.com/photo/2013/10/15/09/12/flower-195893_150.jpg\"\n//         \"previewWidth\": 150,\n//         \"previewHeight\": 84,\n//         \"webformatURL\": \"https://pixabay.com/get/35bbf209e13e39d2_640.jpg\",\n//         \"webformatWidth\": 640,\n//         \"webformatHeight\": 360,\n//         \"largeImageURL\": \"https://pixabay.com/get/ed6a99fd0a76647_1280.jpg\",\n//         \"fullHDURL\": \"https://pixabay.com/get/ed6a9369fd0a76647_1920.jpg\",\n//         \"imageURL\": \"https://pixabay.com/get/ed6a9364a9fd0a76647.jpg\",\n//         \"imageWidth\": 4000,\n//         \"imageHeight\": 2250,\n//         \"imageSize\": 4731420,\n//         \"views\": 7671,\n//         \"downloads\": 6439,\n//         \"likes\": 5,\n//         \"comments\": 2,\n//         \"user_id\": 48777,\n//         \"user\": \"Josch13\",\n//         \"userImageURL\": \"https://cdn.pixabay.com/user/2013/11/05/02-10-23-764_250x250.jpg\",\n//     },\n//     {\n//         \"id\": 73424,\n//         ...\n//     },\n//     ...\n// ]\n// }","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport getPics from \"./js/pixabay-api\";\n\n\nconst formEl = document.querySelector(\".form\");\nconst loaderEl = document.querySelector(\".loader\")\nformEl.addEventListener(\"submit\", onSubmit);\n\n// const loaderEl = document.querySelector(\".loaderJS\")\n// const loaderEl = document.createElement(\"div\");\n// loaderEl.classList.add(\"loader\");\n\nfunction onSubmit(event) {\n    event.preventDefault();\n    if (event.currentTarget.searchText.value === \"\") {\n        return iziToast.error({\n            theme: 'dark',\n            message: `Please, fill out this field.`,\n            backgroundColor: '#EF4040',\n            closeOnClick: true,\n            position: 'topRight',\n            timeout: 3000,\n        })\n    } else {\n        loaderEl.classList.remove(\"visually-hidden\");\n        // formEl.append(loaderEl);\n        // loaderOn();\n        const queryWords = event.currentTarget.searchText.value.trim(\"\");\n        getPics(queryWords);\n        loaderEl.classList.add(\"visually-hidden\")\n        event.currentTarget.searchText.value = \"\";\n        // setTimeout(() => { loaderEl.classList.add(\"visually-hidden\") }, 3000);\n        // loaderEl.remove();\n        // loaderOff();\n        // setTimeout(() => {\n        // loaderEl.remove()\n    // }, 3000);\n    }\n    \n};\n\n// function loaderOn() {\n//         formEl.append(loaderEl);\n// }\n\n// function loaderOff() {\n//     setTimeout(() => {\n//         loaderEl.remove()\n//     }, 3000);\n\n// }\n\n// function loaderOn() {\n//     loader.style.display = \"none\"; \n// }\n"],"names":["renderGallery","picsArray","galleryEl","galleryMarkup","image","slGalleryOptions","SimpleLightbox","getPics","queryWords","axios","response","iziToast","error","formEl","loaderEl","onSubmit","event"],"mappings":"+vBAKe,SAASA,EAAeC,EAAW,CAC9C,MAAMC,EAAY,SAAS,cAAc,UAAU,EACnDA,EAAU,UAAY,GACtB,MAAMC,EAAgBF,EACjB,IAAIG,GAAS,0DAA0DA,EAAM,aAAa,qCAAqCA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,+CAG/HA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,+CAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,+CAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,+CAIdA,EAAM,SAAS;AAAA;AAAA,qBAEzC,EACZ,KAAK,EAAE,EAEfF,EAAU,mBAAmB,YAAaC,CAAa,EACxD,MAAME,EAAmB,CACvB,aAAc,IACd,aAAc,KAChB,EACoB,IAAIC,EAAe,aAAcD,CAAgB,EACvD,QAAO,CACrB,CC9Be,SAASE,EAAQC,EAAY,CACxCC,EAAM,SAAS,QAAU,sBACzBA,EAAM,IAAI,QAAS,CACf,OAAQ,CACJ,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACf,CACT,CAAK,EACI,KAAKE,GACEA,EAAS,KAAK,KAAK,SAAW,EACvBC,EAAS,MAAM,CAClB,MAAO,OACP,QAAS,2EACT,gBAAiB,UACjB,aAAc,GACd,SAAU,WACV,QAAS,GAC7B,CAAiB,EAEMX,EAAcU,EAAS,KAAK,IAAI,CAE1C,EACJ,MAAME,GAAS,QAAQ,IAAIA,CAAK,CAAC,CAC1C,CC3BA,MAAMC,EAAS,SAAS,cAAc,OAAO,EACvCC,EAAW,SAAS,cAAc,SAAS,EACjDD,EAAO,iBAAiB,SAAUE,CAAQ,EAM1C,SAASA,EAASC,EAAO,CAErB,GADAA,EAAM,eAAc,EAChBA,EAAM,cAAc,WAAW,QAAU,GACzC,OAAOL,EAAS,MAAM,CAClB,MAAO,OACP,QAAS,+BACT,gBAAiB,UACjB,aAAc,GACd,SAAU,WACV,QAAS,GACrB,CAAS,EACE,CACHG,EAAS,UAAU,OAAO,iBAAiB,EAG3C,MAAMN,EAAaQ,EAAM,cAAc,WAAW,MAAM,KAAK,EAAE,EAC/DT,EAAQC,CAAU,EAClBM,EAAS,UAAU,IAAI,iBAAiB,EACxCE,EAAM,cAAc,WAAW,MAAQ,EAO1C,CAEL"}